@model AlexRogoBeltApp.ViewModel.ProductViewModel


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>TOCICO</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    <link href="~/Content/Memberstyle.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/responsive.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>


    <script>
        //method to get memberRecord onblur event of textbox
        function GetMemberData() {
            debugger;
            $.post("/Questionnaire/PaymentUpdate", { MId: $('#txtMemberId').val() }, function (data) {
                debugger;


                $('#IsYBpaymentCompleted').attr('checked', data.IsYBpaymentCompleted);
                $('#IsGBpaymentCompleted').attr('checked', data.IsGBpaymentCompleted);
                $('#IsBBpaymentCompleted').attr('checked', data.IsBBpaymentCompleted);
                $('#IsTOIpaymentCompleted').attr('checked', data.IsTOIpaymentCompleted);
                $('#Name').text(data.Name);
                $('#Email').text(data.Email);
                $('#Company').text(data.Company);
                if (data.Error != null) {
                    $('#ErrorNotFound').text(data.Error);
                }




                if (data.MemberID == txtMemberId.value) {
                    document.getElementById("mtable").style.display = "block";
                    document.getElementById("mchekboxes").style.display = "block";
                    document.getElementById("updatePayment").style.display = "block";
                    document.getElementById("updateMember").style.display = "none";
                    document.getElementById("updatePayment").style.display = "none";


                }
                else {
                    document.getElementById("mtable").style.display = "none";
                    document.getElementById("mchekboxes").style.display = "none";
                    document.getElementById("updatePayment").style.display = "none";
                    document.getElementById("updateMember").style.display = "block";
                    document.getElementById("adminPassword").style.display = "block";
                    document.getElementById("ErrorNotFound").style.display = "block";

                    



                }


            });
        }

        //method to update data when member is valid *******Priyank Sir 19 July 2019
        function postModel() {
            debugger;
            var model = {
                Name: $('#Name').text(),
                Email: $('#Email').text(),
                Company: $('#Company').text(),
                IsYBpaymentCompleted: $('#IsYBpaymentCompleted').is(":checked"),
                IsGBpaymentCompleted: $('#IsGBpaymentCompleted').is(":checked"),
                IsBBpaymentCompleted: $('#IsBBpaymentCompleted').is(":checked"),
                IsTOIpaymentCompleted: $('#IsTOIpaymentCompleted').is(":checked"),
                MemberId: $('#txtMemberId').val(),
                AdminPassword: $('#AdminPassword').val()
            };

            $.ajax({

                type: "POST",
                url: "/Questionnaire/ConfirmPayment",
                data: JSON.stringify(model),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    debugger;
                    if (response.Success != null) {
                        $('#success').text(response.Success);
                        document.getElementById("mtable").style.display = "none";
                        document.getElementById("mchekboxes").style.display = "none";
                        document.getElementById("updatePayment").style.display = "none";
                        document.getElementById("updateMember").style.display = "none";
                        document.getElementById("adminPassword").style.display = "none";
                    }
                    else {
                        $('#ErrorInvalidPwd').text(response.Error);
                    }
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        }

        //method to update data when member not found *****sadhana 22 july2019
        function PostData() {
            debugger;

            var url = "/Questionnaire/LoadMemebrGUID";

            $.ajax({
                url: url,
                data: "id=" + AdminPassword.value,
                cache: false,
                type: "POST",
                dataType: "json",
                success: function (response) {
                    debugger;
                    if (response.Success != null) {
                        $('#success').text(response.Success);
                        document.getElementById("mtable").style.display = "none";
                        document.getElementById("mchekboxes").style.display = "none";
                        document.getElementById("updatePayment").style.display = "none";
                        document.getElementById("updateMember").style.display = "none";
                        document.getElementById("adminPassword").style.display = "none";
                    }
                    else {
                        $('#ErrorInvalidPwd').text(response.Error);
                    }

                },
                failure: function (response) {
                    //alert(response.responseText);
                },
                error: function (response) {
                    debugger;
                    $('#ErrorInvalidPwd').text(response.Error);
                    debugger;
                }

            });
        }

        //Method to show admin textbox on blur event of checkboxes
        function OnchangeEventCheckBox() {
            debugger;
            document.getElementById("adminPassword").style.display = "block";
            document.getElementById("updatePayment").style.display = "block";
           
                }
    </script>


</head>
<body>

    @*Textbox for input Member Id*@


    <div class="header-out">
        <div class="container">
            <div class="header">
                <script type="text/javascript">
                    WebFontConfig = {
                        google: { families: ['Open+Sans:400,300,600,700,800:latin', 'Roboto+Condensed:400,300,700:latin'] }
                    };
                    (function () {
                        var wf = document.createElement('script');
                        wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
                        wf.type = 'text/javascript';
                        wf.async = 'true';
                        var s = document.getElementsByTagName('script')[0];
                        s.parentNode.insertBefore(wf, s);
                    })();</script>
                <div class="row">
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <a class="logo" href="/" target="_parent" style="color:#000;">
                            <img src="~/Content/Images/TOCICOBannerLogoGoldHorizontal.gif" />
                        </a>
                        <i class="head_sub_new">"Bringing People and TOC Knowledge Together Globally"</i>
                    </div>
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <div id="social">
                            <a class="fb" href="https://www.facebook.com/Theory-of-Constraints-International-Certification-Organization-98918483549/?ref=hl" target="_blank"><img border="0" src="~/Content/Images/facebook.png"></a>
                            <a class="li" href="https://www.linkedin.com/company/tocico?trk=nav_account_sub_nav_company_admin" target="_blank"><img border="0" src="~/Content/Images/linkedin.png"></a>
                            <a class="tw" href="https://twitter.com/TOCICO" target="_blank"><img border="0" src="~/Content/Images/twitter.png"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="step-page">
        <div class="text-center " style="padding:15px;">Payment Update</div>
    </div>


    <div style="background: rgba(0, 0, 0, 0) linear-gradient(to bottom, rgba(80, 80, 80, 1) 0%, rgba(0, 0, 0, 1) 100%) repeat fixed 0 0;">
        <div class="container ">

            <div class="box-wrapper" style="padding-top:50px;padding-bottom: 114px;">


                <div class="row" style="margin-bottom:20px;">
                    <div class="col-lg-2 col-md-2 col-sm-12 fi_label">
                        Member ID:
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        @Html.TextBoxFor(model => model.MemberID, new { onblur = "GetMemberData()", @class = "form-control", @id = "txtMemberId", required = "required", })

                        <span id="success"></span>
                    </div>
                </div>

                @*<div class="row">
                        <div class="col-md-4">
                            <label>Member Id</label>
                            <br />
                            @Html.TextBoxFor(model => model.MemberID, new { onblur = "GetMemberData()", @class = "form-control", @id = "txtMemberId" })
                            @Html.ValidationMessageFor(model => model.Error, "", new { @class = "text-danger" })
                        </div>
                    </div>*@

                <div class="row" style="margin-bottom:20px;" id="mtable">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Company</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <span id="Name"></span>
                                        </td>
                                        <td>
                                            <span id="Email"></span>
                                        </td>
                                        <td>
                                            <span id="Company"></span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="row" style="margin-bottom:20px;" id="mchekboxes">
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="check_tile">
                            <label class="control control-checkbox">
                                Yellow Belt
                                @Html.CheckBoxFor(model => model.IsYBpaymentCompleted, new { onBlur = "OnchangeEventCheckBox()" })
                                <div class="control_indicator"></div>
                            </label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="check_tile">
                            <label class="control control-checkbox">
                                Green Belt
                                @Html.CheckBoxFor(model => model.IsGBpaymentCompleted, new { onBlur = "OnchangeEventCheckBox()" })
                                <div class="control_indicator"></div>
                            </label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="check_tile">
                            <label class="control control-checkbox">
                                Black Belt
                                @Html.CheckBoxFor(model => model.IsBBpaymentCompleted, new { onBlur = "OnchangeEventCheckBox()" })
                                <div class="control_indicator"></div>
                            </label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="check_tile">
                            <label class="control control-checkbox">
                                TOC Expert
                                @Html.CheckBoxFor(model => model.IsTOIpaymentCompleted, new { onBlur = "OnchangeEventCheckBox()" })
                                <div class="control_indicator"></div>
                            </label>
                        </div>
                    </div>
                </div>
                <hr style="margin:50px 0;" />

                @*<div class="alert alert-danger" role="alert">
                        <label id="Error"></label>
                    </div>*@


                <div class="row" style="margin-top:50px;" id="adminPassword">
                    <div class="col-lg-2 col-md-2 col-sm-12 fi_label">
                        Admin Password:
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 pass_field" ,id="">
                        <div class="col-lg-2 col-md-2 col-sm-12 fi_label" ,id="divAdmin">
                            @*<div class="col-lg-4 col-md-4 col-sm-12 pass_field" ,id="divAdmin">*@
                            @Html.PasswordFor(model => model.AdminPassword, new { @class = "form-control", required = "required", })

                            <span id="ErrorInvalidPwd" style="color:#ff0000; font-size:12px;"></span>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12">
                            @Html.ValidationMessageFor(model => model.AdminPassword, "", new { @class = "text-danger", placeholder = "Password" })
                            </div>
                        </div>

                    </div>
                        <div>
                            @Html.ValidationMessageFor(model => model.Error, "", new { @class = "text-danger", @id = "ErrorNotFound" })


                        </div>
                    </div>
                <div class="row" style="margin-top:40px;">
                    <div class="col-lg-2 col-md-2 col-sm-12 fi_label">

                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <input type="submit" value="Update Payment" id="updatePayment" class="btn btn-primary btn-sm" onclick="postModel()" />
                        <input type="submit" value="Update Data" id="updateMember" class="btn btn-primary btn-sm" onclick="PostData()" />
                    </div>

                    
                    @*<div class="pass_error" id="ErrorInvalidPwd"></div>*@

                </div>

            </div>
        </div>
    </div>



    <div id="footer">
        <div id="foot-social">
            <span>
                <a class="fb" href="https://www.facebook.com/Theory-of-Constraints-International-Certification-Organization-98918483549/?ref=hl" target="_blank">
                    <img alt="" src="~/Content/Images/facebook-w.png" style="border-width: 0px; border-style: solid;">
                </a>
                <a class="li" href="https://www.linkedin.com/company/tocico?trk=nav_account_sub_nav_company_admin" target="_blank">
                    <img alt="" src="~/Content/Images/linkedin-w.png" style="border-width: 0px; border-style: solid;">
                </a>
                <a class="tw" href="https://twitter.com/TOCICO" target="_blank">
                    <img alt="" src="~/Content/Images/twitter-w.png" style="border-width: 0px; border-style: solid;">
                </a>
            </span>
        </div>
        <div id="FooterContentArea">
            <div class="container">
                <!--YMPSTITLE=TgBBAA==/YMPSTITLE--><span>
                    <style>
                        #copyright-inner {
                            padding-left: 0px !important;
                            margin-right: 0px;
                            margin-top: 0px;
                            text-align: center;
                        }

                        #icopyright {
                            width: 100% !important;
                        }
                        <!-- .mainmenu-out {
                            padding-left: 8%;
                        }
                        -->
                        .foot-copy {
                        }
                    </style>
                </span>
                <div id="footer">
                    <div id="foot-social">
                        <span>
                            <a class="fb" href="https://www.facebook.com/Theory-of-Constraints-International-Certification-Organization-98918483549/?ref=hl" target="_blank">
                                <img alt="" src="~/Content/Images/facebook-w.png" style="border-width: 0px; border-style: solid;">
                            </a>

                            <a class="li" href="https://www.linkedin.com/company/tocico?trk=nav_account_sub_nav_company_admin" target="_blank">

                                <img alt="" src="~/Content/Images/linkedin-w.png" style="border-width: 0px; border-style: solid;">
                            </a>

                            <a class="tw" href="https://twitter.com/TOCICO" target="_blank">

                                <img alt="" src="~/Content/Images/twitter-w.png" style="border-width: 0px; border-style: solid;">
                            </a>
                        </span>
                    </div>
                    <div class="foot-copy">
                        <div class="footer_text">
                            Copyright © <span id="2019"></span>
                            TOCICO. All rights reserved.<br>
                            Theory of Constraints International Certification Organization<br>
                            230 Washington Avenue Extension, Suite 101<br>
                            Albany, New York 12203-5319&nbsp; USA<br>
                            Ph: +1 (518) 694-8478<br>
                            Fax: +1 (518) 463-8656<br>
                            admin@tocico.org<br>
                        </div>
                    </div>
                </div>
            </div>
            <div id="icopyright">
                <div id="copyright-inner" class="text-center">
                    <a href="/ams/legal-privacy.htm" class="">Legal</a><!-- Copyright (c) 1998-2019 YourMembership.com Inc. All Rights Reserved. Copyright: Certain elements of this website are: Copyright (c) 1998-2019, YourMembership.com, Incorporated. YourMembership.com, Incorporated provides a limited license to use its Copyrights to the entity from whose web page you are viewing. Certain elements of this website may also be copyrighted by that entity; please see its Terms of Use or contact the organization for more information. General information about copyright laws can be found at: http://www.copyright.gov/. For more specific information, please consult an attorney. -->
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
</body>
</html>
